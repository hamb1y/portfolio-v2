---
import Layout from "../components/Layout.astro";
import Card from "../components/Card.astro";
import { getCollection } from 'astro:content';

const skills = await getCollection('skills');
---

<Layout title="Skills">
  <div class="min-h-screen pt-32">
    <div class="container">
      <h1 class="text-5xl font-bold mb-12">Skills & Expertise</h1>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {skills.map((skill) => {
          const { emoji, name, description, level } = skill.data;
          return (
            <Card variant="glass" className="hover-scale transition-transform duration-300">
              <div class="p-6">
                <div class="flex items-start gap-4">
                  <span class="text-3xl">{emoji}</span>
                  <div class="flex-1">
                    <h3 class="text-xl font-bold mb-1">{name}</h3>
                    <p class="text-text-muted text-sm mb-3">{description}</p>
                    <div class="flex justify-between items-center">
                      <span class="glass-badge">{level}</span>
                      <div class="flex gap-1">
                        {['Beginner', 'Intermediate', 'Advanced'].map((lvl, i) => (
                          <div
                            class={`w-2 h-2 rounded-full ${
                              level === lvl 
                                ? 'bg-secondary-light' 
                                : i < ['Beginner', 'Intermediate', 'Advanced'].indexOf(level) 
                                  ? 'bg-secondary' 
                                  : 'bg-surface'
                            }`}
                          />
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </Card>
          );
        })}
      </div>
    </div>
  </div>
</Layout>